---
layout: post
categories: react
title: Gatsby Init
---

According to the offical site:  
__[Gatsby][gatsby] is a Blazing-fast static site generator for React__  
well, I try it, like it, use it, and this is my basic config. 


# 1. Init your project

```shell
  gatsby new proj
  gatsby develop
```
here is a basic directory structure:  

```
.  
├── gatsby-config.js  
├── package.json  
└── src  
    ├── html.jsx 
    ├── pages  
    │   ├── index.jsx  
    │   └── posts  
    │       ├── 01-01-2017  
    │       │   └── index.md  
    │       ├── 01-02-2017  
    │       │   └── index.md  
    │       └── 01-03-2017  
    │           └── index.md  
    ├── templates  
    │   └── post.jsx  
    │
    └── layouts  
        └── index.jsx  

```

# 2. Bind Redux

Before this, browe [Gatsby Browser APIS][browserapis]:  
Implement any of these APIs by exporting them from a file named `gatsby-browser.js` in the root of your project.  

Add redux / React-redux modules

```shell
yarn add redux react-redux react-router react-router-dom
```
Replace the gatsby's default router and wrap it:`./gatsby-browser.js`  

```jsx
import React from 'react'
import { BrowserRouter as Router } from 'react-router-dom'
import { Provider } from 'react-redux'
import createStore from 'redux'
import todoApp from './src/reducer'

exports.replaceRouterComponent = ({ history }) => {
    const store = createStore()

    const ConnectedRouterWrapper = ({ children }) => (
        <Provider store={todoApp}>
            <Router>{children}</Router>
        </Provider>
    )

    return ConnectedRouterWrapper
}
```

# 3.Bind Sass
Sass is very easy to bind in gatsby.  
just include plugin in `./gatsby-config.js` and import sass files in your jsx.
```js
// gatsby-config.js
plugins:[
    {
        resolve: `gatsby-plugin-sass`,
        options: {
            precision: 8
        }
    }
]
//or
//plugins: [`gatsby-plugin-sass`]
```

[gatsby]: https://www.gatsbyjs.org
[browserapis]: https://www.gatsbyjs.org/docs/browser-apis/
