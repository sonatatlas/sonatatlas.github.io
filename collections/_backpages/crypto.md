---
title: 图解密码学概念整理
layout: default
---

# TOC
+ [密码算法](#密码算法)
+ [消息认证](#消息认证)
+ [常用密码学技术](#常用密码学技术)

# 密码算法
密码算法指用于加密解密的算法，根据密钥的使用方法，可以简单分为 __对称密码__ 与 __公钥密码__。

密码技术不仅是加密与解密，校验消息的完整性，确认对方是否是本人的认证等都是密码技术的重要组成部分，这里面衍生出来的密码技术有 __单向散列函数__、 __消息认证码__、 __数字签名__、 __伪随机数生成器__ 等。

此外，向大家推荐了解 PGP 这款加密软件，__PGP__ 囊括了现代密码软件所必需的几乎所有功能，包括对称密码、公钥密码、数字签名、单向散列函数、证书、压缩、文本数据、大文件的拆分与拼合、钥匙串管理等，总之很牛逼。

## 对称密码
对称密码就是可以用同一密钥加密解密的密码。在对称密码中：

+ __一次性密码__ 通过 XOR 运算制作，理论上无法破译，没有广泛运用的原因在难以保证密钥配送的安全。

+ __DES__ 是 1977 年美国联邦信息处理标准中采用的一种对称密码 (FIPS 46-3), 一直以来被广泛使用。不过，现在已经能够被暴力破解，衍生出 __3DES__。

+ __AES__ 是取代 DES 成为新标准的对称加密算法，主要指 __Rijndael__。

## 公钥密码
公钥密码使用不同的密钥进行加密和解密，解决了密钥配送的难题，称得上是密码学历史上最伟大的发明。除去公钥密码，其余解决密钥分配的办法还有事先 __共享密钥__、使用 __密钥分配中心__、 __Diffie-Hellman__ 方法。

RSA 是目前使用最广泛的公钥密码算法，其他构建公钥密码的方法还有 __ELGamal__、 __Rabin__、 __ECDSA__、 __Schnorr__等。

## 混合密码系统
混合密码系统是指将 __对称密码__ 和 __公钥密码__ 的优势结合的办法。将消息通过对称密码来加密，将加密消息时使用的密钥通过公钥密码来加密，这样的两部就是混合密码系统的本质。

一些混合密码系统的组成机制:

+ 用对称密码加密消息
+ 伪随机数生成器生成(对称密码加密中使用的)会话密钥
+ 用公钥密码加密会话密钥
+ 密钥交换(从混合密码系统外部赋予公钥密码加密时使用的密钥)

混合密码系统运用了 __伪随机数生成器__、 __对称密码__ 和 __公钥密码__ 这三种密码技术。正是通过这三种密码技术的结合，才创造出了一种兼具对称密码和公钥密码优点的加密方式。

### 加密过程
使用密钥加密明文，生成密文(用公钥密码或用对称密码加密生成的会话密钥)。
+ __加密消息：__ 消息的加密方法和对称密码的一般加密方法相同，消息很长时，使用分组加密的方法。
+ __生成会话密钥：__ 会话密钥是指为本次通信而生成的临时密钥，它一般是通过伪随机数生成器产生。
+ __组合密文：__ 将用对称密码加密的消息与用公钥密码加密的会话密钥按顺序拼接在一起。

### 解密过程
+ 将 __会话密钥__ 与 __用对称密码加密的消息__ 分离
+ 使用 __私钥__ 解密 __会话密钥__
+ 使用 __解密后的会话密钥__ 解密 __加密的消息__

### 具体例子
PGP、SSL/TLS

## 分组密码和流密码
密码算法可以分为 __分组密码__ 和 __流密码__，分组密码对特定长度的数据进行加密处理，而流密码对数据流进行加密，一次性密码属于流密码，DES，AES 均属于分组密码。

分组密码的模式有:

1. ECB —— Electronic CodeBook mode
2. CBC —— Cipher Block Chaining mode 
3. CFB —— Cipher FeedBack mode 
4. OFB —— Output FeedBack mode 
5. CTR —— CounTeR mode

# 消息认证
这部分主要列举密码学在消息认证方面的应用。消息认证的基础是 __单向散列函数__，衍生出的主要应用有 __消息认证码__、 __数字签名__、 __证书__ 等。

## 单向散列函数
单向散列函数根据消息的内容计算出散列值，以此验证消息的完整性，能够 __根据任意长度的消息快速计算出固定长度的散列值__， __消息不同，散列值也不同__、 __具备单向性__。

### 实际应用
基于口令的加密、消息认证码、数字签名、伪随机数生成器、一次性口令等。

### 具体例子
+ __MD4、MD5__ 是由 Rivest 设计出来的单向散列函数，广泛运用，但由于强抗碰撞性被攻破，现在已经不安全了。

+ __SHA__ 系列是由美国国家标准技术研究所设计的能够产生 160 位比特散列值的单向散列函数，SHA-256、SHA-384、SHA-512 统称 __SHA-2__，散列值长度分别为 256、384、512，而 __SHA-3__ 的标准为 Keccak 算法。

+ __RIPEMD__ 是欧盟 RIPE 项目所设计的单向散列函数，RIPEMD-160 长度为 160 比特，尚未被攻破。

## 消息认证码
消息认证码用于认证消息的完整性，简称 MAC，是一种与密钥相关联的单向散列函数。

### 消息认证码的实现
消息认证码可以通过 __单向散列函数、分组密码或其他方法，如流密码和公钥密码__ 等方法实现。 

__HMAC__ 就是一种通过单向散列函数构建消息认证码的方法，使用 SHA-1、MD5、RIPEMD-160 所构造的 HMAC，分别称为 __HMAC-SHA-1、HMAC-MD5、HMAC-RIPEMD__。

### 消息认证码的实例
+ 银行和银行之间通过 __SWIFT__ 来传递交易信息，为了确认消息的完整性以及对消息进行验证，SWIFT 中使用了消息验证码。

+ __IPsec__ 是对互联网基本通信协议 —— IP 协议增加安全性的一种方式。在 IPsec 中，对通信内容的认证和完整性校验都是采用消息认证码来完成的。

+ __SSL/TLS__ 是我们在网上购物等场景中使用的通信协议，SSL/TLS 对通信内容的认证和完整性教研呢也使用了{消息认证码。

## 数字签名
数字签名的设计解决了消息认证码无法防止否认的难题，加密者可以使用不同的密钥对消息进行加密。

数字签名的方法主要有 “对消息签名” 和 “消息的散列值签名”，常用算法有 RSA、ELGamal、DSA、Rabin 等。应用场景主要有安全信息公告，软件下载，公钥证书，SSL/TLS 等。

## 伪随机数
随机数在密码技术中扮演着重要角色。

硬件根据传感器收集的热量、声音的变化等是无法预测的，这样的随机数生成设备被称为 __随机数生成器__。

软件无法生成真随机数，生成随机数的软件被称作 __伪随机数生成器__。伪随机数生成的办法主要有线性同余法、单向散列函数法、密码法、ANSI X9.17等。


# 常用密码学技术
这一章将针对现行区块链技术中运用的加密技术进行介绍。

## 盲签名
盲签名是一种数字签名形式，__其中消息的内容在签名之前是不可见的，得到的签名可以对原始的非盲消息进行公开验证。__ 通常用于与隐私相关的协议中，其中签名者和消息作者是不同方。

__应用__：加密选举系统、数字现金方案。

## 环签名
环签名是一种数字签名，__可以由拥有密钥的一组用户中的任何成员执行，确定哪个组成员的密钥用于产生签名在计算上是不可行的。__

## 多重签名
多重签名允许一组用户签署单个文档。通常，多重签名算法产生的联合签名比来自所有用户的不同签名的集合更紧凑，多重签名可以被视为组签名和环签名的概括。

## 门限签名
门限密码系统规定，如果为了解密加密的消息或签署消息，若干方（超过某个阈值数）必须在解密或签名协议中协作。使用公钥加密消息，并在参与方之间共享相应的私钥。

## 零知识证明
零知识证明或零知识协议是一方（证明者）可以向另一方（验证者）证明他们知道值 x 的方法，除了事实之外不传达任何信息。 他们知道价值 x。 零知识证明的本质是通过简单地揭示它来证明某人拥有某些信息的知识是微不足道的，挑战在于证明这种占有而不泄露信息本身或任何其他信息。

## 安全多方计算
安全多方计算研究是：在无可信第三方的情况下，如何安全地计算一个 __约定函数__ 的问题，是电子选举、门限签名以及电子拍卖等诸多应用得以实施的密码学基础。

安全多方计算可简单分为 __信息论安全__ 和 __密码学安全__：

| 信息论安全(无条件安全)                 | 密码学安全(条件安全)                   |
|----------------------------------------|----------------------------------------|
| 对于拥有无限计算能力攻击者而言是安全的 | 对于拥有多项式计算能力的攻击者是安全的 |

## 同态加密
同态加密是一种加密形式，指对明文与密文进行同样的代数运算，所得出的结果，是加密且相同的。同态加密令人们可以在加密的数据中进行诸如检索、比较等操作，整个处理过程中无需对数据进行解密。

__应用__：解决将数据及其操作委托给第三方时的保密问题, 如云服务。
